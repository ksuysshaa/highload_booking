# Booking.com

## Содержание

- [Booking](#booking)
  - [Содержание](#содержание)
  - [Основная часть](#основная-часть)
    - [1. Тема и целевая аудитория](#1-тема-и-целевая-аудитория)
      - [Функционал MVP](#функционал-mvp)
      - [Целевая аудитория](#целевая-аудитория)
        - [Анализ трафика и вовлеченности](#анализ-трафика-и-вовлеченности)
        - [Веб-трафик по странам](#веб-трафик-по-странам)
        - [Демографические показатели](#демографические-показатели)
  - [Список источников](#список-источников)

## Основная часть

### 1. Тема и целевая аудитория

**Booking** - система интернет-бронирования отелей.

#### Функционал MVP

1. Регистрация и авторизация пользователей
2. Поиск
3. Бронирование жилья
    - Создание бронирования: форма бронирования, подтверждение на email
    - Редактирование дат бронирования (в рамках доступных)
    - Отмена бронирования
4. Кабинет владельца жилья: 
    - Размещение и редактирование объявления (фото, описание, удобства, цена, тип проживания, раcположение на карте, доступные даты)
    - Управление доступными датами
5. Кабинет пользователя:
    - Просмотр текущих бронирований
6. Добавление отзывов об объекте размещения
7. Чат между владельцем жильца и бронирующим
8. Система оплаты бронирований

#### Фичи

1. Интерактивная карта с объектами размещения
2. Система напоминаний и уведомлений
3. Поддержка гибких условий бронирования
4. Просмотр истории бронирований

#### Целевая аудитория

##### Анализ трафика и вовлеченности

- всего посещений (за месяц): **520.4M** [^1]
- доля пользователей, покинувших сайт после просмотра одной страницы: **33.14%** [^1]
- страниц на посещение: **8.23** [^1]
- средняя продолжительность посещения: **00:08:27** [^1]
- **`>120`** млн активных пользователей в месяц [^2]
- **`>1B`** ночей проживания бронируется через букинг в год [^2]

##### Веб-трафик по странам

[![Traffic by Country](images/ByCountryRating.png)](https://www.similarweb.com/ru/website/booking.com) [^2]

##### Демографические показатели

[![Demographic Indicators](images/DemographyRating.png)](https://www.similarweb.com/ru/website/booking.com) [^2]

### 2. Расчет нагрузки

#### 1. Продуктовые метрики

1.1. Аудитория

- **MAU (Monthly Active Users):** ориентировочно **400–500 млн**  

- **Пиковый DAU (Daily Active Users):** условно ~**20 млн**  
  - Если взять 500 млн MAU и предположить, что 5–6% заходят ежедневно (особенно в «высокий» сезон или при массовых акциях), получим **20–25 млн**. Некоторые дни могут быть ниже (15–17 млн).  

1.2. Среднее количество действий (в день, на 1 пользователя)

По официальным данным Booking Holdings, в 2022 году через их сервисы было забронировано свыше **900 млн room nights**. Делим условно эту цифру на несколько сотен миллионов активных пользователей, понимаем, что:

- **Брони** в среднем у активного пользователя 1–3 раза в год.  
- В процессе выбора жилья на 1 визит может приходиться несколько **поисков** и **просмотров** (другие объекты).

Для упрощённого расчёта, на **1 пользователя в «пиковые» сутки** возьмём следующее:

| **Действие**                       | **Кол-во в день (на пользователя)** | **Откуда цифра**                                                  |
|:-----------------------------------|:------------------------------------:|:-------------------------------------------------------------------|
| **Поиск** (города, даты, фильтры) | 10                                   | Пользователь обычно многократно меняет фильтры и даты.            |
| **Просмотр карточек отелей**       | 15                                   | При подборе жилья просматривают 10–20 вариантов.                  |
| **Создание/изменение брони**       | 0,1                                  | По статистике, не каждый день, но 1 раз в 10 дней — усреднённо.    |
| **Отзывы** (написать/прочитать)    | 0,2                                  | Меньшая часть пользователей пишет отзывы, многие — только читают. |
| **Сообщения** (чат с отелем)       | 0,2                                  | Вопросы о заселении, дополнительной информации и т.п.             |

Итого получается **~25–26 действий** на одного «действительно активного» пользователя.  

---

#### 2. Объём данных на одного пользователя

2.1. Долгосрочное хранение (за год)

| **Категория**                                          | **Оценка размера (1 пользователь за год)** | **Комментарий**                                                                                 |
|:-------------------------------------------------------|:------------------------------------------:|:-------------------------------------------------------------------------------------------------|
| **Профиль** (аватар, контакты, платёжные данные)       | ~0,5 МБ                                     | Данные учётки                                             |
| **История бронирований** (1–3 в год)                    | ~0,3 МБ                                     | Информация о транзакциях, чеки, подтверждения.                                |
| **Отзывы** (1 раз в год + метаданные)                  | ~0,1 МБ                                     | Текст отзыва + метаданные (оценка). Реже фотографии.     |
| **Сообщения** (в чате)                                 | ~0,05 МБ                                    | Небольшой текст, изредка вложения (скрин, PDF).                                                  |
| **Рекомендации, избранное**                            | ~3 МБ                                       | Кеш подборок жилья, списки «Избранное».                                              |

**Итого:** \~4 МБ на пользователя в год (0,5 + 0,3 + 0,1 + 0,05 + 3 = 3,95 ≈ 4).  

### 2.2. Сетевой трафик (за сутки, «пиковый» пользователь)

1. **Поиск** — \~0,7 МБ на 1 запрос (HTML, миниатюры фото).  
2. **Просмотр отеля** — \~2 МБ на 1 просмотр (карточка, фото, отзывы).  
3. **Создание/изменение брони** — \~0,5 МБ.  
4. **Отзыв** (просмотр/написание) — \~0,2 МБ.  
5. **Сообщение** — \~0,1 МБ.

Тогда:

| **Действие**       | **Кол-во** | **Объём на 1 действие** | **Итого на 1 пользователя/день** |
|:-------------------|-----------:|------------------------:|----------------------------------:|
| Поиск              | 10         | 0,7 МБ                 | 7 МБ                              |
| Просмотр отеля     | 15         | 2 МБ                   | 30 МБ                             |
| Бронирование       | 0,1        | 0,5 МБ                 | 0,05 МБ                           |
| Отзывы             | 0,2        | 0,2 МБ                 | 0,04 МБ                           |
| Сообщения          | 0,2        | 0,1 МБ                 | 0,02 МБ                           |
| **Итого**          | —          | —                       | **37 МБ**                         |

#### 3. Итог

3.1. Общий объём хранения

1. **Персональные данные** (данные пользователей):  

    500млн×4МБ=2000ТБ=2ПБ.  

2. **Данные об отелях**:  
   - 28+ млн активных объявлений.  
   - Каждое объявление может иметь десятки высококачественных фото, описания, отзывы и т.п.  
   - Итого получается **десятки–сотни ПБ**.

3. **Исторические логи, транзакции, бэкапы**:  
   - Booking Holdings сообщала, что было свыше 900 млн ночей (room nights) забронировано за год, и это хранится для отчётности, аналитики и юридических целей.  
   - С учётом логов и резервных копий речь идёт о **десятках ПБ**.

3.2. Сетевой трафик

Возьмём **DAU = 20 млн** (пиковый день) × **37 МБ** на пользователя:

20млн×37МБ=740млн МБ=740000ГБ=740ТБ=0,74ПБ/сутки

Этот объём (**\~0,7 ПБ/сутки**) — упрощённая оценка «внешнего» трафика с пользовательских устройств. Часть отдается через CDN, есть внутренний трафик между микросервисами, базы данных и т.д., поэтому реальный суммарный network footprint у Booking.com выше.

3.3. RPS (Requests Per Second)

На 20 млн DAU и \~25,5 действий в день на 1 пользователя получаем:

25,5×20млн=510млн запросов/сутки≈ 510млн/86400≈5900RPS (в среднем)

**Разбивка по типам**:

| **Запрос**                 | **Суточное кол-во** | **Средний RPS** | **Пиковый RPS**    | **Комментарии**                                              |
|:---------------------------|---------------------:|----------------:|--------------------:|:-------------------------------------------------------------|
| **Поиск**                  | 200 млн             | ~2 300          | ~11 500            | Списки отелей, фильтры и сортировки                          |
| **Просмотр отеля**         | 300 млн             | ~3 470          | ~17 350            | Загрузка фото, отзывов, описаний                             |
| **Создание/изменение брони** | 2 млн              | ~23             | ~115               | Транзакции, оплата (наиболее «тяжёлые» для БД)               |
| **Отзывы**                 | 4 млн               | ~46             | ~230               | Чтение/написание отзывов                                     |
| **Сообщения (чат)**        | 4 млн               | ~46             | ~230               | Текстовые вопросы к отелю/службе поддержки                   |
| **Итого**                  | ~510 млн            | **~5 900**      | **~29 400**        | Пиковые часы (вечер, праздники, акции), рост в 3–5 раз и более |

## Список источников

1. [Анализ веб-трафика booking.com](https://www.similarweb.com/ru/website/booking.com)

2. [Статистика Booking за 2023 год](https://www.businessofapps.com/data/booking-statistics/)

3. [https://ir.bookingholdings.com/financials/sec-filings/default.aspx](https://ir.bookingholdings.com/financials/sec-filings/default.aspx) 

4. [https://news.booking.com/](https://news.booking.com/)  